<div id="preparationScreen" style="{{stopped ? '' : 'cursor: wait;'}}">
	<div id="scanMessage">{{$l10n(scanMessage)}}</div>
	{{#if !errored}}
		<div id="scanStatus">
			<div id="scanPercentage">
				{{#if maxDeviations}}
					<progress id="scanProgressBar" value="{{percent}}"></progress>
					<div id="scanPercentageText">{{Math.floor(percent * 100)}}%</div>
				{{else}}
					<progress id="scanProgressBar"></progress>
				{{/if}}
			</div>
			<div id="scannedDeviations">{{$l10n("scannedDeviations", [found])}}</div>
			<div id="watchStatus">{{watchStatus ? $l10n(watchStatus) : ""}}</div>
		</div>
	{{else}}
		<div id="scanFailed">
			<div id="scanError">{{$l10n("scanError")}}</div>
			<button id="retryButton" type="button" on:click="fire('retry')">
				{{$l10n("scanErrorRetry")}}
			</button>
		</div>
	{{/if}}
</div>
<script>
export default {
	data() { return {
		percent: 0,
		found: 0,
	}; },
	computed: {
		scanMessage: (pageType) => {
			return ( {
				featured: "scanningFeatured",
				allFaves: "scanningAll",
				collection: "scanningCollection",
				search: "scanningSearch"
			} )[pageType];
		},
	},
};
</script>